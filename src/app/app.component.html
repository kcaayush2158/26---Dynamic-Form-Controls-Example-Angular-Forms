<!--The content below is only a placeholder and can be replaced.-->
<br><br><br>
<div class="container col-4">

<h2>Registration Form</h2>
{{registrationForm.value | json}}
<hr>
<form method="post" action="" [formGroup]="registrationForm">
  <div class="form-group">
    <label for="username">Username</label>
    <input id="username"   [class.is-invalid]="Username.invalid && Username.untouched" formControlName="username" class="form-control" type="text" name="username">
 </div>

 <div class="alert alert-danger" role="alert" *ngIf="Username.invalid && Username.touched">
    <small class="text-danger" *ngIf="Username.errors?.required">Name is required</small>
    <small class="text-danger" *ngIf="Username.errors?.minlength">Name must be 3 charecters</small>
    <small class="text-danger" *ngIf="Username.errors?.forbiddenName">password is not allowed</small>
  </div>

  <div class="form-group">
    <label for="email">email</label>
    <button type="button" class="btn btn-secondary btn-sm m-2" (click)="addAlternateEmail()">+ Add Email</button>
    <input id="email" formControlName="email" [class.is-invalid]="email.invalid && email.touched" class="form-control" type="email" name="email">
     <span class="text-danger" [class.d-none]="email.valid || email.untouched">Email is required</span>
     <div formArrayName="alternateEmails" *ngFor="let email of alternateEmails.controls; let i=index">
     <input class="form-control my-1" type="text" [formControlName]="i">
     </div>
  </div>

  <div class="form-check">
    <input id="subscribe" formControlName="subscribe" class="form-check-input" type="checkbox" name="subscribe" >
    <label for="subscribe" class="form-check-label">Send me offers</label>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input id="password" formControlName="password" class="form-control" type="password" name="password">
  </div>
  
  <div class="form-group">
    <label for="repassword">Re-Password</label>
    <input id="repassword" [class.invalid]="registrationForm.errors?.misMatch" formControlName="repassword" class="form-control" type="password" name="repassword">
    <span class="text-danger" *ngIf="registrationForm.errors?.misMatch">Password dont match</span>
  </div>
  
  <div formGroupName="address">
        <div class="form-group">
           <label for="city">City</label>
           <input id="city" formControlName="city" class="form-control" type="city" name="city">
        </div>

        <div class="form-group">
           <label for="state">state</label>
           <input id="state" formControlName="state" class="form-control" type="text" name="state">
         </div>

        <div class="form-group">
            <label for="postalcode">Postal Code</label>
             <input id="postalcode" formControlName="postalcode" class="form-control" type="text" name="postalcode">
          </div>
  </div>

  <button type="submit" class="btn btn-success">Submit</button>
  <button (click)="loadApiData()" type="button" class="btn btn-secondary ml-2">Load Api</button><br>
</form>


</div>
<router-outlet></router-outlet>
